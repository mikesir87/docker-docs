---
title: Writing a Dockerfile
keywords: concepts, build, images, docker desktop
description: Writing a Dockerfile
---

In order to create a container image, first  we need to get the application source code onto our machine. For real projects, you will typically [clone the repo](https://github.com/docker/getting-started-todo-app). But, for this guide, we have created a ZIP file containing the application.

[Download the ZIP](https://github.com/docker/getting-started-todo-app/blob/build-image-from-scratch/app.zip) and extract the content using the following command:

The project directory will look like this: 

```console
 tree -L app
 .
 ├── package.json
 ├── spec
 ├── src
 └── yarn.lock

 3 directories, 3 files
```


Once extracted, use your favorite code editor to open the project. If you're in need of an editor, you can use [Visual Studio Code](https://code.visualstudio.com/). You should see the following files:



* **package.json**: This file is typically used in Node.js projects to define project metadata and dependencies. It may include information such as the project name, version, description, scripts, and dependencies required for the project.
* **spec**: This directory likely contains specifications or tests for the project. In a Node.js project, this directory might house unit tests, integration tests, or other types of test suites to ensure the functionality of the codebase.
* **src:** This directory likely contains the source code of the project. In a Node.js project, this directory would typically include JavaScript files (.js) that define the application logic, such as server-side code, API endpoints, or business logic.
* **yarn.lock**: This file is generated by the Yarn package manager and is used to lock down the versions of dependencies installed in the project. It ensures that the same versions of dependencies are installed across different environments, helping to maintain consistency and reproducibility in the project's dependencies.


## Creating a Dockerfile

Create a file named `Dockerfile` in the same folder as the file `package.json` with the following contents.


```diff
  FROM node:20-alpine
  WORKDIR /app
  COPY . .
  RUN yarn install --production
  CMD ["node", "./src/index.js"]
```


Let's break down each line of this Dockerfile:



* **FROM node:20-alpine:** This line specifies the base image for your Docker container. It instructs Docker to use an Alpine-based image tagged with version 20 of Node.js from the official Node.js Docker Hub repository. Alpine Linux is a lightweight Linux distribution, and using the Alpine variant of the Node.js image helps keep the overall size of your Docker image small.
* **WORKDIR /app:** This line sets the working directory inside the container where subsequent commands will be run. In this case, it sets the working directory to /app, which means that all commands executed within the Dockerfile will be relative to this directory.
* **COPY . .:** This line copies the contents of the current directory (where the Dockerfile is located) into the /app directory inside the container. The first . represents the source directory on the host machine (where the Dockerfile is), and the second . represents the destination directory inside the container (/app).
* **RUN yarn install --production:** This line executes the yarn install --production command inside the container. This command installs the dependencies listed in the package.json file of your Node.js application. The --production flag tells Yarn to only install production dependencies, excluding development dependencies. This is typically done to minimize the size of the Docker image.
* **CMD ["node", "./src/index.js"]:** This line specifies the default command to run when the container starts. It tells Docker to run the Node.js application by executing the node ./src/index.js command. This assumes that your Node.js application's entry point is located at ./src/index.js relative to the working directory (/app). Adjust this command according to the structure of your application and the location of your entry file.

Please check that the file `Dockerfile` has no file extension like `.txt`. Some editors may append this file extension automatically and this would result in an error in the next step.


## Next steps

Now that we have created a Dockerfile, let's learn how to build a Docker Image and push to the container registry.

{{< button text="Building and Publishing the Image" url="building-and-publishing-image" >}}
